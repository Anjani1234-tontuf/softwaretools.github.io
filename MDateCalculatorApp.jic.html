<!DOCTYPE HTML>
<html>
<!--
<html manifest="MDateCalculatorApp.appcache">

Yes the code is crap.  Some of this stuff was started in 1997 and I have just added to it, if it worked, I kept it.
Maybe one of these days I will clean it up.  Also, I am legally blind in my left eye.
TpdkDesign.net

http://garyjohnsoninfo.info/XXSoftwareTools/images/calendar128x128.png
Name: TpdkDesign.net
URL: Favicon of tpdkdesign.ne thttp://www.tpdkdesign.net
Available for custom work: No
Default License: Free for non-commercial use.
Commercial usage: Not allowed
320 x 480 without results
-->
<head>

<title>Date Calculator</title>
  <meta name="author" content="Gary Johnson">
  <meta name="description" content="Date Calculator">
  <meta name="keywords" content="Date Calculator">
  <link rel="icon" href="GraphicWidgets/calendar16x16.ico" type="image/x-icon">
  <link rel="Copyright" href="Copyright.html">
  <link rel="styleSheet" href="css/GaryDefaultApp.css" type="text/css">
  <link rel="stylesheet" href="css/Printit.css" type="text/css" media="print">
<!--
  <link rel="stylesheet" media="handheld, only screen and (max-device-width: 600px)" href="css/GaryDefaultApp.css">
-->
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, width=device-width">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="Cache-control" content="public">
  <meta http-equiv="content-language" content="en-US">

<style type="text/css">
body{ max-width: 600px;
min-width:320px;}
</style>
</head>

<body onload="Startup();">
<div class="myborder" > <!-- main width setting div -->
<div class="mystyle">

<form name="datepicker1" id="datepicker1">

<input type="button" style="text-align:right;" id="sFCD" title="Set dates to current date" class="buttonNgrey"
       value="Set Dates to Today"
       onClick="setFormCurrentDate(this.form);">

<h3 class="HCL"><span class="HCLT">Number of days between 2 dates</span></h3>

<table style="width:100%;">
<tbody>
    <tr>
      <td class="HCCT" colspan="3"><p> <span class="LGreyPattern">First</span> Date</p></td>
    </tr>
    <tr>
      <td class="a">
        <p class="td1p">Month
        <select class="buttonNgrey" name="month1" id="month1" size="1">
        <option value="0">1</option>
        <option value="1">2</option>
        <option value="2">3</option>
        <option value="3">4</option>
        <option value="4">5</option>
        <option value="5">6</option>
        <option value="6">7</option>
        <option value="7">8</option>
        <option value="8">9</option>
        <option value="9">10</option>
        <option value="10">11</option>
        <option value="11">12</option>
        </select></p>
      </td>
      <td class="a">
        <p class="td1p">Day
        <select class="buttonNgrey" name="day1" id="day1" size="1">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
        </select></p>
      </td>
      <td class="a">
        <p class="td1p">Year
        <select class="buttonNgrey" name="year1" id="year1" size="1">
        <option value="19">19</option>
        <option value="20" selected>20</option>
        </select>
        <select class="buttonNgrey" name="year2" id="year2" size="1">
        <option value="00">00</option>
        <option value="01">01</option>
        <option value="02">02</option>
        <option value="03">03</option>
        <option value="04" selected>04</option>
        <option value="05">05</option>
        <option value="06">06</option>
        <option value="07">07</option>
        <option value="08">08</option>
        <option value="09">09</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
        <option value="32">32</option>
        <option value="33">33</option>
        <option value="34">34</option>
        <option value="35">35</option>
        <option value="36">36</option>
        <option value="37">37</option>
        <option value="38">38</option>
        <option value="39">39</option>
        <option value="40">40</option>
        <option value="41">41</option>
        <option value="42">42</option>
        <option value="43">43</option>
        <option value="44">44</option>
        <option value="45">45</option>
        <option value="46">46</option>
        <option value="47">47</option>
        <option value="48">48</option>
        <option value="49">49</option>
        <option value="50">50</option>
        <option value="51">51</option>
        <option value="52">52</option>
        <option value="53">53</option>
        <option value="54">54</option>
        <option value="55">55</option>
        <option value="56">56</option>
        <option value="57">57</option>
        <option value="58">58</option>
        <option value="59">59</option>
        <option value="60">60</option>
        <option value="61">61</option>
        <option value="62">62</option>
        <option value="63">63</option>
        <option value="64">64</option>
        <option value="65">65</option>
        <option value="66">66</option>
        <option value="67">67</option>
        <option value="68">68</option>
        <option value="69">69</option>
        <option value="70">70</option>
        <option value="71">71</option>
        <option value="72">72</option>
        <option value="73">73</option>
        <option value="74">74</option>
        <option value="75">75</option>
        <option value="76">76</option>
        <option value="77">77</option>
        <option value="78">78</option>
        <option value="79">79</option>
        <option value="80">80</option>
        <option value="81">81</option>
        <option value="82">82</option>
        <option value="83">83</option>
        <option value="84">84</option>
        <option value="85">85</option>
        <option value="86">86</option>
        <option value="87">87</option>
        <option value="88">88</option>
        <option value="89">89</option>
        <option value="90">90</option>
        <option value="91">91</option>
        <option value="92">92</option>
        <option value="93">93</option>
        <option value="94">94</option>
        <option value="95">95</option>
        <option value="96">96</option>
        <option value="97">97</option>
        <option value="98">98</option>
        <option value="99">99</option>
        </select></p>
      </td>
    </tr>
</tbody>
</table>

<p class="mythinsp"></p>

<table>
<tbody>
<tr>
<td class="HCCT" colspan="3"><p>Second Date</p></td>
</tr>
<tr>
      <td class="a">
      <p class="td1p">Month
    <select class="buttonNgrey" name="month2" id="month2" size="1">
      <option value="0">1</option>
      <option value="1">2</option>
      <option value="2">3</option>
      <option value="3">4</option>
      <option value="4">5</option>
      <option value="5">6</option>
      <option value="6">7</option>
      <option value="7">8</option>
      <option value="8">9</option>
      <option value="9">10</option>
      <option value="10">11</option>
      <option value="11">12</option>
      </select>
    </p>
    </td>
      <td class="a">
      <p class="td1p">Day
    <select class="buttonNgrey" name="day2" id="day2" size="1">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
      <option value="13">13</option>
      <option value="14">14</option>
      <option value="15">15</option>
      <option value="16">16</option>
      <option value="17">17</option>
      <option value="18">18</option>
      <option value="19">19</option>
      <option value="20">20</option>
      <option value="21">21</option>
      <option value="22">22</option>
      <option value="23">23</option>
      <option value="24">24</option>
      <option value="25">25</option>
      <option value="26">26</option>
      <option value="27">27</option>
      <option value="28">28</option>
      <option value="29">29</option>
      <option value="30">30</option>
      <option value="31">31</option>
      </select>
    </p>
    </td>
      <td class="a" >
          <p class="td1p">Year
    <select class="buttonNgrey" name="year3" id="year3" size="1">
      <option value="19">19</option>
      <option value="20" selected>20</option>
      </select>
    <select class="buttonNgrey" name="year4" id="year4" size="1">
      <option value="00">00</option>
      <option value="01">01</option>
      <option value="02">02</option>
      <option value="03">03</option>
      <option value="04" selected>04</option>
      <option value="05">05</option>
      <option value="06">06</option>
      <option value="07">07</option>
      <option value="08">08</option>
      <option value="09">09</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
      <option value="13">13</option>
      <option value="14">14</option>
      <option value="15">15</option>
      <option value="16">16</option>
      <option value="17">17</option>
      <option value="18">18</option>
      <option value="19">19</option>
      <option value="20">20</option>
      <option value="21">21</option>
      <option value="22">22</option>
      <option value="23">23</option>
      <option value="24">24</option>
      <option value="25">25</option>
      <option value="26">26</option>
      <option value="27">27</option>
      <option value="28">28</option>
      <option value="29">29</option>
      <option value="30">30</option>
      <option value="31">31</option>
      <option value="32">32</option>
      <option value="33">33</option>
      <option value="34">34</option>
      <option value="35">35</option>
      <option value="36">36</option>
      <option value="37">37</option>
      <option value="38">38</option>
      <option value="39">39</option>
      <option value="40">40</option>
      <option value="41">41</option>
      <option value="42">42</option>
      <option value="43">43</option>
      <option value="44">44</option>
      <option value="45">45</option>
      <option value="46">46</option>
      <option value="47">47</option>
      <option value="48">48</option>
      <option value="49">49</option>
      <option value="50">50</option>
      <option value="51">51</option>
      <option value="52">52</option>
      <option value="53">53</option>
      <option value="54">54</option>
      <option value="55">55</option>
      <option value="56">56</option>
      <option value="57">57</option>
      <option value="58">58</option>
      <option value="59">59</option>
      <option value="60">60</option>
      <option value="61">61</option>
      <option value="62">62</option>
      <option value="63">63</option>
      <option value="64">64</option>
      <option value="65">65</option>
      <option value="66">66</option>
      <option value="67">67</option>
      <option value="68">68</option>
      <option value="69">69</option>
      <option value="70">70</option>
      <option value="71">71</option>
      <option value="72">72</option>
      <option value="73">73</option>
      <option value="74">74</option>
      <option value="75">75</option>
      <option value="76">76</option>
      <option value="77">77</option>
      <option value="78">78</option>
      <option value="79">79</option>
      <option value="80">80</option>
      <option value="81">81</option>
      <option value="82">82</option>
      <option value="83">83</option>
      <option value="84">84</option>
      <option value="85">85</option>
      <option value="86">86</option>
      <option value="87">87</option>
      <option value="88">88</option>
      <option value="89">89</option>
      <option value="90">90</option>
      <option value="91">91</option>
      <option value="92">92</option>
      <option value="93">93</option>
      <option value="94">94</option>
      <option value="95">95</option>
      <option value="96">96</option>
      <option value="97">97</option>
      <option value="98">98</option>
      <option value="99">99</option>
      </select>
  </p>
    </td>
  <!-- </td> -->
  </tr>
  <tr>
  <td colspan="3" class="bodybc" style="min-width:5px;">
    <pre class="myPre" id='place1'></pre></td>
  </tr>
</tbody>
</table>
<p class="mythinsp"></p>

<table>
<tr>
<td>
    <input type="button" id="validateDatesI"  class="buttonNgrey" value="Calculate -> Difference In Days"
    onClick="validateDates(this.form); return false;">
</td>
</tr>
</table>
<hr>
<h3 class="HCL"><span class="HCLT">Future Date(s) From <span class="LGreyPattern">First</span> Date</span></h3>


<table>
  <tbody>

<tr>
  <td class="a">
    <p class="scenter" style='font-weight:normal;'>Enter Days
    <INPUT style="width:5em" NAME="numdays" type="number" class="number" min="1" max="1000"  pattern="\d+"></p>  <!-- no pattern if type number -->
  </td>
  <td class="bodybcc">
    <pre class="myPre" id='place2'></pre>
  </td>
</tr>
  </tbody>
</table>


<table>
  <tr>
    <td>
    <input type="button" id="calcNewDateI"  class="buttonNgrey" value="Calculate -> Future Date = Days + First Date"
    onClick="calcNewDate(this.form); return false;">
  </td>
  </tr>
<tr>
<td>
<input type="button" id="sFCDW" title="Calulate week table from First Date" class="buttonNgrey"
       value="Calculate 12 week table from First Date"
       onClick="calcWeekTable(this.form);">
</td>
</tr>
<tr>
<td>
<input type="button" id="sFCD2" title="Set First Date to Results" class="buttonNgrey"
       value="Results to First Date"
       onClick="setFormFutureDate(this.form);">
</td>
</tr>
<tr>
<td>
<input type="button" id="sFCJ" title="Get Julain of First Date" class="buttonNgrey"
       value="Julian of of First Date"
       onClick="getJulainFormDate(this.form);">
</td>
</tr>
</table>
<p style='display:none' id='place3'>~</p>
</form>


<hr>
<p>
<small>
<a class="AOne" href="Copyright.html" target=_top>Copyright &copy;</a> 2000-20013 Gary Johnson
<br><a class="AOne" href="http://www.tpdkdesign.net/" target=_top>Icons by tpdkdesign.net</a></small></p>

<!-- <BR clear="all"><br> -->
</div> <!-- mystyle -->
</div> <!-- main width setting div -->



<script type="text/javascript" src="js/gjAppcore.min.js"></script>
<script type="text/javascript" src="js/gjutil1.min.js"></script>
<script type="text/javascript" src="js/gjcalc1.min.js"></script>
<script type="text/javascript" src="js/gjAppmsg.min.js"></script>

<script type="text/javascript">

setFormCurrentDateL('datepicker1');
function setFormCurrentDateL(form)
{
    try
    {
      var today=new Date(); //today.getFullYear()
      var formid = document.getElementById(form);

        formid.month1.selectedIndex = today.getMonth();
        formid.day1.selectedIndex = today.getDate()- 1;
        formid.year2.selectedIndex = today.getFullYear() - 2000;

        formid.month2.selectedIndex = today.getMonth();
        formid.day2.selectedIndex = today.getDate() -1;
        formid.year4.selectedIndex = today.getFullYear() - 2000;

    }
    catch (error)
    {
    gjonerror( error, "setFormCurrentDateL");
    }
}

function mySdate(datein)
{
var wday = getShortDayName(datein.getDay());
var month = getShortMonthName(datein.getMonth());
var day = datein.getDate();
if(day < 10) {day = "&nbsp;" + day;} else {day = day;}
var year = datein.getFullYear()  - 2000;
return (wday + " " + month + " " + day + "," + year);
}


var FutureDate;

function validateDates(form)
{
    try
    {

    var today=new Date(); //today.getFullYear()

    var month1 = form.month1.selectedIndex;
    var day1 = form.day1.selectedIndex + 1;

    var ty = form.year1.selectedIndex;
    var year1 = form.year1.options[ty].value;
    ty = form.year2.selectedIndex;
    var year2 = form.year2.options[ty].value;
    var fullyear1 = String(year1) + String(year2);

    var Date1=new Date(fullyear1, month1, day1) //Month is 0-11 in JavaScript

    var month2 = form.month2.selectedIndex;
    var day2 = form.day2.selectedIndex + 1;

    ty = form.year3.selectedIndex;
    var year3 = form.year3.options[ty].value;
    ty = form.year4.selectedIndex;
    var year4 = form.year4.options[ty].value;
    var fullyear2 = String(year3) + String(year4);

    var Date2=new Date(fullyear2, month2, day2) //Month is 0-11 in JavaScript
    FutureDate = Date2;  // so the button works

    var str1 = "Today: " + today.toLocaleDateString();
    var str2 = '<br>Day: ' + getJulian(today.getDate(),today.getMonth()-1,today.getYear) + ' of the Year';
    var str3 = "<br>First Date: " + Date1.toLocaleDateString();
    var str4 = "<br>Second Date: " + Date2.toLocaleDateString();
    var theDays = days_between(Date1, Date2);
    var str6;
    var theYears;
    if(theDays > 365)
    {
      theYears = parseInt(theDays / 365);
      andDays =  theDays % 365;
      str6 = "<br> or " + theYears + " years and " + andDays + " days";
    }
    else
    {
      theYears = "";
      andDays = "";
      str6 = "";
    }
    var str5 = "<br> Difference in Days: " + theDays;

    changeInnerHTML('place1',str1 + str2 + str3 + str4 + str5 + str6);
  }
  catch (ex)
  {
    var wintxt =  "\n" + " " + ex.name + " " +  ex.message + " in: " +  "\n"  +  ex.fileName  + " line: " + ex.lineNumber + "\n" + " UA " + navigator.userAgent;
    alert(wintxt);
  }
}


function calcNewDate(form)
{
  try
  {
    var today=new Date(); //today.getFullYear()


    var month1 = form.month1.selectedIndex;
    var day1 = form.day1.selectedIndex + 1;

    var ty = form.year1.selectedIndex;
    var year1 = form.year1.options[ty].value;
    ty = form.year2.selectedIndex;
    var year2 = form.year2.options[ty].value;
    var fullyear1 = String(year1) + String(year2);

    var Date1=new Date(fullyear1, month1, day1) //Month is 0-11 in JavaScript

    var Days = form.numdays.value;

    if(!testInteger(Days))
    {
      alert('please enter a whole number');
      return;
    }

    FutureDate = date_from_days_and_date(Date1, Days);

    var str1 = "Today: " + today.toLocaleDateString();
    var str2 = '<br> Day: ' + getJulian(today.getDate(),today.getMonth()-1,today.getYear) + ' of the Year';
    var str3 = "<br> First Date: " + Date1.toLocaleDateString();
    var str4 = "<br> Number of Days: " + Days
    var str5 = "<br> Future Date: " + FutureDate.toLocaleDateString();
    changeInnerHTML('place2',str1 + str2 + str3 + str4 + str5);
  }
  catch (ex)
  {
    var wintxt =  "\n" + " " + ex.name + " " +  ex.message + " in: " +  "\n"  +  ex.fileName  + " line: " + ex.lineNumber + "\n" + " UA " + navigator.userAgent;
    alert(wintxt);
  }
}

function calcWeekTable(form)
{
    try
    {

    var today=new Date(); //today.getFullYear()

    var month1 = form.month1.selectedIndex;
    var day1 = form.day1.selectedIndex + 1;

    var ty = form.year1.selectedIndex;
    var year1 = form.year1.options[ty].value;
    ty = form.year2.selectedIndex;
    var year2 = form.year2.options[ty].value;
    var fullyear1 = String(year1) + String(year2);

    var Date1=new Date(fullyear1, month1, day1) //Month is 0-11 in JavaScript

    var str1 = "<br> Today: " + today.toLocaleDateString();
    var str2 = '<br> Day: ' + getJulian(today.getDate(),today.getMonth()-1,today.getYear) + ' of the Year';
    var str3 = "<br> First Date: " + Date1.toLocaleDateString();


    var str5 = "";
    totdays = 85; //(12 weeks * 7)

        var str6 = "";
        var weeks = totdays / 7;
        var start = Date1;
        var end;
        var i;
        var pi;
        for(i=0;i < 12;i++)
        {
          if(i < 10) {pi = "&nbsp;" + i;} else {pi = i;}
          end = date_from_days_and_date(start, 7);
          str6 = str6 + "<br>" + pi + " " + mySdate(start) + "&nbsp; " + mySdate(end);
          start = end;
        }



    changeInnerHTML('place2',str1 + str2 + str3 + str5 + str6);
  }
  catch (ex)
  {
    var wintxt =  "\n" + " " + ex.name + " " +  ex.message + " in: " +  "\n"  +  ex.fileName  + " line: " + ex.lineNumber + "\n" + " UA " + navigator.userAgent;
    alert(wintxt);
  }
}


function getJulainFormDate(form)
{
  try
  {
    //var today=new Date(); //today.getFullYear()


    var month1 = form.month1.selectedIndex;
    var day1 = form.day1.selectedIndex + 1;

    var ty = form.year1.selectedIndex;
    var year1 = form.year1.options[ty].value;
    ty = form.year2.selectedIndex;
    var year2 = form.year2.options[ty].value;
    var fullyear1 = String(year1) + String(year2);


    var fullyear1 = String(year1) + String(year2);
    var Date1=new Date(fullyear1, month1, day1) //Month is 0-11 in JavaScript
    var iJulian = '<br> is day ' + getJulian(day1,(month1 - 1),fullyear1) + ' day of year';
    var str3 = "<br> First Date:  " + Date1.toLocaleDateString();

    changeInnerHTML('place2',str3 + iJulian );

//    changeInnerHTML('place3',FutureDate);
  }
  catch (ex)
  {
    var wintxt =  "\n" + " " + ex.name + " " +  ex.message + " in: " +  "\n"  +  ex.fileName  + " line: " + ex.lineNumber + "\n" + " UA " + navigator.userAgent;
    alert(wintxt);
  }
}

function setFormCurrentDate(form)
{
    try
    {
      var today=new Date(); //today.getFullYear()

        form.month1.selectedIndex = today.getMonth();
        form.day1.selectedIndex = today.getDate()- 1;
        form.year2.selectedIndex = today.getFullYear() - 2000;

        form.month2.selectedIndex = today.getMonth();
        form.day2.selectedIndex = today.getDate() -1;
        form.year4.selectedIndex = today.getFullYear() - 2000;

    }
    catch (error)
    {
    gjonerror( error, "setFormCurrentDate");
    }
}


function setFormFutureDate(form)
{
    try
    {

        if(!FutureDate)
        {
          alert('Please do a Date Calculation First!')
          return;
        }

        form.month1.selectedIndex = FutureDate.getMonth();
        form.day1.selectedIndex = FutureDate.getDate()- 1;
        form.year2.selectedIndex = FutureDate.getFullYear() - 2000;


    }
    catch (error)
    {
    gjonerror( error, "setFormFutureDate");
    }
}
function Startup()
{
/*
var gjMinUI;

gjMinUI = getCookie("UIMin");

  if( gjMinUI == undefined  || screen.width <600 || gjMinUI == "1")
  {
  //set for minimal
    setDisplayH("nodisplay");
    setDisplayH("nodisplay2");
  }
  else
  {
    setDisplayH("nodisplay");  //don't show my menu for the widgets on the web
  }

*/
}
</script>
<!--
<iframe id="iffooter1" class="myfooter" frameborder="0" scrolling="no" src="GaryDefaultFooter.html"></iframe>
-->
</body>
</html>

