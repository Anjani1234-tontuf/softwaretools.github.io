// Copyright (c) 2000-2012 by Gary Johnson

function tstHTML5Canvas()
{return!!document.createElement('canvas').getContext;}
function showXY(theCTX,theX,theY)
{theCTX.beginPath();theCTX.lineWidth="1";theCTX.moveTo(theX-3,theY);theCTX.lineTo(theX+3,theY);theCTX.stroke();theCTX.moveTo(theX,theY-3);theCTX.lineTo(theX,theY+3);theCTX.closePath();theCTX.stroke();}
function showBigXY(theCTX,theX,theY,theColor)
{theCTX.beginPath();theCTX.lineWidth="3";if(theColor)
{theCTX.strokeStyle=theColor;}
else
{theCTX.strokeStyle="blue";}
theCTX.moveTo(theX-6,theY);theCTX.lineTo(theX+6,theY);theCTX.stroke();theCTX.moveTo(theX,theY-6);theCTX.lineTo(theX,theY+6);theCTX.closePath();theCTX.stroke();}
function frmtNumber(expression,NumDigitsAfterDecimal)
{try
{var strNum=new String(expression);var re=".";var intDec=strNum.indexOf(re);if(intDec>0)
{intDec=(parseInt(intDec)+(NumDigitsAfterDecimal+1));strNum=strNum.substr(0,intDec);return strNum-0;}
else
{return strNum-0;}}
catch(error)
{alert(error," frmtNumber ");}
return 0;}
function drawGrid(theCanvas,theCTX)
{theCTX.strokeStyle="#eee";theCTX.stroke();for(var x=0.5;x<400;x+=20)
{theCTX.moveTo(x,0);theCTX.lineTo(x,theCanvas.height);}
for(var y=0.5;y<200;y+=20)
{theCTX.moveTo(0,y);theCTX.lineTo(theCanvas.width,y);}
theCTX.strokeStyle="#000";theCTX.stroke();}
function TbezierCurveTo(theCTX,cp1x,cp1y,cp2x,cp2y,x,y,mtX,mtY,colorhex,gjlinewh)
{colorhex=typeof colorhex!=='undefined'?colorhex:'#FF7F50';gjlinewh=typeof gjlinewh!=='undefined'?gjlinewh:'1';theCTX.beginPath();theCTX.lineWidth=gjlinewh;theCTX.strokeStyle=colorhex;theCTX.moveTo(mtX,mtY);theCTX.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y);theCTX.stroke();theCTX.closePath();theCTX.beginPath();theCTX.lineWidth="1";theCTX.strokeStyle="red";theCTX.moveTo(cp1x,cp1y);theCTX.lineTo(mtX,mtY);theCTX.stroke();theCTX.moveTo(cp2x,cp2y);theCTX.lineTo(x,y);theCTX.stroke();theCTX.closePath();}
function showLine(thex1,they1,thex2,they2)
{ctx.beginPath();ctx.lineWidth="1";ctx.strokeStyle="black";ctx.fillStyle="white";ctx.moveTo(thex1,they1);ctx.lineTo(thex2,they2);ctx.closePath();ctx.stroke();}