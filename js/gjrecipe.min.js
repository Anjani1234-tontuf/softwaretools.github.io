// Copyright (c) 2000-2012 by Gary Johnson

var smImageWidth;var lgImageWidth;var smImageHeight;var lgImageHeight;var dishTop;var dishLeft;var myLeft;var myMT;function recipeSort(myin)
{var positions=new Array();var myArray=new Array(5);var cnt=0;var where=0;var from=0;var myFun=getCookieItem("gj53runOptions","DoAnimations")
if(myFun==undefined||myFun==""||myFun=="0"||myFun==false||myFun=="false")
{myFun=false;}
else
{myFun=true;}
var theop='';setDisplayH('close01');changeInnerHTML('Ingredients',"");changeInnerHTML('myheader',"<p class='hshl'><span class='hshlbt'>FastTrack&nbsp;</span> on learning to cook</p>");if(!document.getElementsByTagName)
{return;}
var divs=document.getElementsByTagName('*');var thisDiv;var computedTopOffset=0;for(var di=0;di<divs.length;di++)
{thisDiv=divs[di];if(thisDiv.id.indexOf("-")==1)
{var strID=thisDiv.id.substring(1,11);var myTemp=strID.split(/-/);getTopHeight(thisDiv,myArray);if(cnt>0)
{computedTopOffset+=positions[cnt-1].theHeight;}
positions[cnt++]=new aposition(thisDiv.id,myTemp[1],myTemp[2],myArray[0],myArray[1],myArray[2],myArray[3],myArray[4],computedTopOffset);}
else if(thisDiv.id=='myheader')
{getTopHeight(thisDiv,myArray);where+=myparseFloat(myArray[1])+myMT;}}
positions.sort(sortByTT);if(myFun)
{var recipeChg=new CSGS();}
try
{for(var mycnt=0;mycnt<cnt;mycnt++)
{var myE=document.getElementById(positions[mycnt].theid);myE.style.position='absolute';setWidth(positions[mycnt].theid,positions[mycnt].theWidth);if(myFun)
{recipeChg.addElement(positions[mycnt].theid);if(positions[mycnt].TT==1990)
{recipeChg.setMI(positions[mycnt].theid,5);recipeChg.addMove(positions[mycnt].theid,myLeft,where,myLeft,where);}
else
{recipeChg.setMI(positions[mycnt].theid,5);recipeChg.addMove(positions[mycnt].theid,myLeft,positions[mycnt].theTop+from,myLeft,where);}}
else
{setTopLeft(positions[mycnt].theid,myLeft,where);}
where+=positions[mycnt].theHeight;}}
catch(error)
{gjonerror(error," setting mi");}
if(myFun)
{recipeChg.setIntervalSpeed(30);recipeChg.doIt();delete recipeChg;}
var rst=document.getElementById('recipeSummary');var div01=document.getElementById('d-01-01');dishTop=div01.offsetTop+rst.offsetTop;makeSmall('thedish1');delete positions;delete myArray;}
function aposition(idin,FF,TT,theTop,theHeight,theLeft,theWidth,theRight,computedTopOffset)
{this.theid=idin;this.FF=myparseFloat(FF);this.TT=myparseFloat(TT);this.theTop=myparseFloat(theTop);this.theHeight=myparseFloat(theHeight)
this.theLeft=myparseFloat(theLeft);this.theWidth=myparseFloat(theWidth);this.theRight=myparseFloat(theRight);this.computedTopOffset=computedTopOffset;}
function sortByFF(a,b)
{var x=myparseInt(a.FF);var y=myparseInt(b.FF);return(x-y);}
function sortByTT(a,b)
{var x=myparseInt(a.TT);var y=myparseInt(b.TT);return(x-y);}
function getTopHeight(idin,myArray)
{if(isGecko())
{if(document.defaultView)
{myArray[0]=idin.offsetTop;myArray[1]=idin.offsetHeight;myArray[2]=idin.offsetLeft;myArray[3]=idin.offsetWidth;myArray[4]=0;return true;}
else
{if(checkDebug())
{alert('getCompStyle document.defaultView does not exist');}
return false;}}
else if(checkDebug())
{alert('getCompStyle not done for this browser');return false;}
return false;}
function myparseFloat(strin)
{if(strin==="")return 0;var tmpFloat=parseFloat(strin);if(isNaN(tmpFloat))
{return 0;}
return tmpFloat;}
function myparseInt(strin)
{if(strin==="")return 0;var tmpInt=parseInt(strin);if(isNaN(tmpInt))
{return 0;}
return tmpInt;}
function toggleDisplayButton2(idin,buttonid)
{try
{var aDiv=document.getElementById(idin);if(aDiv.style.display=='none')
{aDiv.style.display='block';document.getElementById(buttonid).value="Hide Optional";}
else
{aDiv.style.display='none';document.getElementById(buttonid).value="Show Optional";}}
catch(error)
{gjonerror(error,"toggleDisplayButton2");}}
function displayDish()
{var availableWidth=getCW();var availableHeight=getCH();var myBody=document.defaultView.getComputedStyle(document.body,'');myLeft=myparseFloat(myBody.marginLeft);myMT=myparseFloat(myBody.marginTop);var theDish=document.getElementById('thedish1');var aspectRatio=theDish.width/theDish.height;var rst=document.getElementById('recipeSummary');var div01=document.getElementById('d-01-01');var smavailableWidth=200;smImageWidth=((theDish.width<smavailableWidth)?(theDish.width):(smavailableWidth));lgImageWidth=((theDish.width<availableWidth)?(theDish.width):(availableWidth));smImageHeight=smImageWidth/aspectRatio;lgImageHeight=lgImageWidth/aspectRatio;dishTop=div01.offsetTop+rst.offsetTop;dishLeft=availableWidth+myLeft-smImageWidth;makeSmall('thedish1');}
function makeBig(idin)
{var theDish=document.getElementById('thedish1');theDish.width=lgImageWidth;theDish.height=lgImageHeight;setTopLeft('thedish1',myLeft,dishTop);}
function makeSmall(idin)
{var theDish=document.getElementById('thedish1');theDish.style.display='block';theDish.width=smImageWidth;theDish.height=smImageHeight;setTopLeft('thedish1',dishLeft,dishTop);}
function showImg(idcontainerin,idpicin,zorder)
{var availableWidth=getCW();var availableHeight=getCH();var myzoorder;if(arguments[2])
{myzoorder=zorder;}
else
{var strID=idcontainerin.substring(1,11);var myTemp=strID.split(/-/);myzoorder=9999-parseInt(myTemp[2]);}
document.getElementById(idcontainerin).style.zIndex=myzoorder;var theImg=document.getElementById(idpicin);var aspectRatio=theImg.width/theImg.height;var myImageWidth=((theImg.width<availableWidth)?(theImg.width):(availableWidth));var myImageHeight=myImageWidth/aspectRatio;theImg.width=myImageWidth;theImg.height=myImageHeight;theImg.style.display='block';theImg.style.zIndex=myzoorder;}
function hideImg(idin)
{document.getElementById(idin).style.display='none';}
function toggleDisplayButton3(buttonid,idcontainerin,idpicin,zorder)
{try
{var aPicorDiv=document.getElementById(idpicin);if(aPicorDiv.style.display=='none')
{showImg(idcontainerin,idpicin,zorder)
document.getElementById(buttonid).value="-";}
else
{aPicorDiv.style.display='none';document.getElementById(buttonid).value="+";}}
catch(error)
{gjonerror(error,"toggleDisplayButton3");}}